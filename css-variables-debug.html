<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug CSS Variables - Material & Fluent</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Import the same CSS as the app */
    @import url('http://localhost:5174/src/App.css');
    @import url('http://localhost:5174/src/themes/materialDesign.css');
    @import url('http://localhost:5174/src/themes/fluentDesign.css');

    .debug-section {
      margin: 20px 0;
      padding: 20px;
      border: 2px solid #333;
      border-radius: 8px;
    }

    .variable-test {
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      background: #f9f9f9;
    }

    .badge-debug {
      position: relative;
      display: inline-block;
      margin: 10px;
    }

    .test-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      min-width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      z-index: 10;
    }

    /* Force visibility styles */
    .force-visible {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      background-color: red !important;
      color: white !important;
    }
  </style>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-gray-100 p-8">
  <h1 class="text-3xl font-bold mb-8">üîç CSS Variables Debug - Material & Fluent</h1>

  <!-- Material Theme Test -->
  <div class="debug-section" data-theme="material-light">
    <h2 class="text-2xl font-bold mb-4">üü£ Material Design Debug</h2>
    
    <div class="variable-test">
      <h3 class="font-bold">CSS Variables Check:</h3>
      <div id="material-variables"></div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 1 - Using var() with fallback:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-100 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge" style="background-color: var(--md-error-main, #FF0000); color: var(--md-on-error, #FFFFFF);">
          3
        </span>
      </div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 2 - Hardcoded colors:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-100 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge" style="background-color: #B00020; color: #FFFFFF;">
          3
        </span>
      </div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 3 - Force visible:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-100 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge force-visible">
          3
        </span>
      </div>
    </div>
  </div>

  <!-- Fluent Theme Test -->
  <div class="debug-section" data-theme="fluent-light">
    <h2 class="text-2xl font-bold mb-4">üîµ Fluent Design Debug</h2>
    
    <div class="variable-test">
      <h3 class="font-bold">CSS Variables Check:</h3>
      <div id="fluent-variables"></div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 1 - Using var() with fallback:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-50 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge" style="background-color: var(--fluent-semantic-danger, #FF0000); color: var(--fluent-text-on-accent, #FFFFFF);">
          3
        </span>
      </div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 2 - Hardcoded colors:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-50 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge" style="background-color: #D13438; color: #FFFFFF;">
          3
        </span>
      </div>
    </div>

    <div class="variable-test">
      <h3 class="font-bold">Badge Test 3 - Force visible:</h3>
      <div class="badge-debug">
        <button class="p-3 bg-gray-50 rounded shadow">
          <i data-lucide="bell" class="w-6 h-6"></i>
        </button>
        <span class="test-badge force-visible">
          3
        </span>
      </div>
    </div>
  </div>

  <!-- Theme switching test -->
  <div class="debug-section">
    <h2 class="text-2xl font-bold mb-4">üîÑ Theme Switching Test</h2>
    <button onclick="switchToMaterial()" class="bg-purple-500 text-white px-4 py-2 rounded mr-2">Switch to Material</button>
    <button onclick="switchToFluent()" class="bg-blue-500 text-white px-4 py-2 rounded mr-2">Switch to Fluent</button>
    <button onclick="switchToBrutalist()" class="bg-green-500 text-white px-4 py-2 rounded">Switch to Neo-Brutalism</button>
    
    <div class="mt-4" id="current-theme">
      Current theme: <span id="theme-display">Unknown</span>
    </div>
  </div>

  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    function checkVariables() {
      // Material variables
      const materialElement = document.querySelector('[data-theme="material-light"]');
      const materialStyle = getComputedStyle(materialElement);
      const materialVars = [
        '--md-error-main',
        '--md-on-error', 
        '--md-secondary-main',
        '--md-on-secondary',
        '--destructive',
        '--accent'
      ];
      
      let materialHTML = '';
      materialVars.forEach(varName => {
        const value = materialStyle.getPropertyValue(varName);
        const hasValue = value && value.trim() !== '';
        materialHTML += `
          <div class="flex justify-between p-2 border-b">
            <code>${varName}</code>
            <span class="${hasValue ? 'text-green-600' : 'text-red-600'}">
              ${hasValue ? value.trim() : 'NOT DEFINED'}
            </span>
          </div>
        `;
      });
      document.getElementById('material-variables').innerHTML = materialHTML;

      // Fluent variables
      const fluentElement = document.querySelector('[data-theme="fluent-light"]');
      const fluentStyle = getComputedStyle(fluentElement);
      const fluentVars = [
        '--fluent-semantic-danger',
        '--fluent-text-on-accent',
        '--fluent-brand-primary',
        '--destructive',
        '--accent'
      ];
      
      let fluentHTML = '';
      fluentVars.forEach(varName => {
        const value = fluentStyle.getPropertyValue(varName);
        const hasValue = value && value.trim() !== '';
        fluentHTML += `
          <div class="flex justify-between p-2 border-b">
            <code>${varName}</code>
            <span class="${hasValue ? 'text-green-600' : 'text-red-600'}">
              ${hasValue ? value.trim() : 'NOT DEFINED'}
            </span>
          </div>
        `;
      });
      document.getElementById('fluent-variables').innerHTML = fluentHTML;
    }

    function switchToMaterial() {
      document.documentElement.setAttribute('data-theme', 'material-light');
      document.getElementById('theme-display').textContent = 'material-light';
      setTimeout(checkVariables, 100);
    }

    function switchToFluent() {
      document.documentElement.setAttribute('data-theme', 'fluent-light');
      document.getElementById('theme-display').textContent = 'fluent-light';
      setTimeout(checkVariables, 100);
    }

    function switchToBrutalist() {
      document.documentElement.setAttribute('data-theme', 'neo-brutalism-light');
      document.getElementById('theme-display').textContent = 'neo-brutalism-light';
      setTimeout(checkVariables, 100);
    }

    // Initial check
    setTimeout(checkVariables, 500);
  </script>
</body>
</html>
