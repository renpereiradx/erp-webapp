<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Sidebar Visibility</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .debug-sidebar {
            background-color: #f3f4f6;
            border: 2px solid #3b82f6;
        }
        .debug-content {
            background-color: #fef3c7;
            border: 2px solid #f59e0b;
        }
        .debug-button {
            background-color: #fecaca;
            border: 2px solid #ef4444;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen">
        <!-- Test 1: Pure Tailwind responsive -->
        <div class="debug-sidebar fixed inset-y-0 left-0 z-30 w-72 hidden lg:block">
            <div class="h-full p-4">
                <h2 class="font-bold text-lg">SIDEBAR (Tailwind)</h2>
                <p>Este sidebar usa: hidden lg:block</p>
                <div id="sidebar-info" class="mt-4 text-sm">
                    <p>Ancho: <span id="width-tailwind"></span>px</p>
                    <p>Estado: <span id="status-tailwind"></span></p>
                </div>
            </div>
        </div>
        
        <!-- Test 2: JavaScript controlled -->
        <div id="js-sidebar" class="debug-sidebar fixed inset-y-0 left-72 z-30 w-72" style="display: none;">
            <div class="h-full p-4">
                <h2 class="font-bold text-lg">SIDEBAR (JavaScript)</h2>
                <p>Este sidebar usa JavaScript</p>
                <div class="mt-4 text-sm">
                    <p>Ancho: <span id="width-js"></span>px</p>
                    <p>Estado: <span id="status-js"></span></p>
                </div>
            </div>
        </div>

        <!-- Mobile button test -->
        <div class="fixed top-4 right-4 z-50">
            <button id="mobile-btn" class="debug-button p-3 rounded lg:hidden">
                BOTÓN MÓVIL (Tailwind)
            </button>
            <button id="js-mobile-btn" class="debug-button p-3 rounded ml-2" style="display: none;">
                BOTÓN MÓVIL (JS)
            </button>
        </div>
        
        <!-- Main content -->
        <div class="debug-content lg:pl-72 p-4" style="margin-left: 0;">
            <h1 class="text-2xl font-bold mb-4">DEBUG: Sidebar Visibility Test</h1>
            
            <div class="bg-white p-4 rounded shadow mb-4">
                <h3 class="font-semibold mb-2">Estado actual:</h3>
                <p>Ancho de pantalla: <span id="current-width"></span>px</p>
                <p>Es pantalla grande (≥1024px): <span id="is-large"></span></p>
            </div>
            
            <div class="bg-white p-4 rounded shadow mb-4">
                <h3 class="font-semibold mb-2">Resultados esperados:</h3>
                <ul class="list-disc list-inside space-y-1">
                    <li>Desktop (≥1024px): Sidebar visible, botón móvil oculto</li>
                    <li>Mobile (<1024px): Sidebar oculto, botón móvil visible</li>
                </ul>
            </div>
            
            <div class="bg-white p-4 rounded shadow">
                <h3 class="font-semibold mb-2">¿Qué ves?</h3>
                <p>Si ves el sidebar azul a la izquierda en desktop, Tailwind funciona.</p>
                <p>Si NO lo ves, hay un problema con la configuración CSS.</p>
                <p>Si el botón rojo aparece en desktop, hay un problema de responsividad.</p>
            </div>
        </div>
    </div>

    <script>
        function updateDebugInfo() {
            const width = window.innerWidth;
            const isLarge = width >= 1024;
            
            // Update display info
            document.getElementById('current-width').textContent = width;
            document.getElementById('is-large').textContent = isLarge ? 'SÍ' : 'NO';
            
            // Update Tailwind info
            document.getElementById('width-tailwind').textContent = width;
            document.getElementById('status-tailwind').textContent = isLarge ? 'DEBERÍA ESTAR VISIBLE' : 'DEBERÍA ESTAR OCULTO';
            
            // Update JS info
            document.getElementById('width-js').textContent = width;
            document.getElementById('status-js').textContent = isLarge ? 'VISIBLE' : 'OCULTO';
            
            // Control JS sidebar
            const jsSidebar = document.getElementById('js-sidebar');
            jsSidebar.style.display = isLarge ? 'block' : 'none';
            
            // Control JS mobile button
            const jsMobileBtn = document.getElementById('js-mobile-btn');
            jsMobileBtn.style.display = isLarge ? 'none' : 'block';
            
            // Update main content margin for JS sidebar
            const mainContent = document.querySelector('.debug-content');
            if (isLarge) {
                mainContent.style.marginLeft = '576px'; // Both sidebars = 288px * 2
            } else {
                mainContent.style.marginLeft = '0px';
            }
        }
        
        updateDebugInfo();
        window.addEventListener('resize', updateDebugInfo);
    </script>
</body>
</html>
